function PodsJson(t){this.path=t,this.contents=null,this.__dirty=!1;var o=this.path.split(path.sep).pop();if(o!==PodsJson.FILENAME)throw new CordovaError(util.format("PodsJson: The file at %s is not `%s`.",this.path,PodsJson.FILENAME));fs.existsSync(this.path)?(events.emit("verbose","pods.json found in platforms/ios"),this.contents=fs.readFileSync(this.path,"utf8"),this.contents=JSON.parse(this.contents)):(events.emit("verbose",util.format("pods.json: The file at %s does not exist.",this.path)),events.emit("verbose","Creating new pods.json in platforms/ios"),this.clear(),this.write())}var fs=require("fs"),path=require("path"),util=require("util"),events=require("cordova-common").events,CordovaError=require("cordova-common").CordovaError;PodsJson.FILENAME="pods.json",PodsJson.prototype.get=function(t){return this.contents[t]},PodsJson.prototype.remove=function(t){this.contents[t]&&(delete this.contents[t],this.__dirty=!0,events.emit("verbose",util.format("Remove from pods.json for `%s`",t)))},PodsJson.prototype.clear=function(){this.contents={},this.__dirty=!0},PodsJson.prototype.destroy=function(){fs.unlinkSync(this.path),events.emit("verbose",util.format("Deleted `%s`",this.path))},PodsJson.prototype.write=function(){this.contents&&(fs.writeFileSync(this.path,JSON.stringify(this.contents,null,4)),this.__dirty=!1,events.emit("verbose","Wrote to pods.json."))},PodsJson.prototype.set=function(t,o,s,e){this.setJson(t,{name:t,type:o,spec:s,count:e})},PodsJson.prototype.increment=function(t){var o=this.get(t);o&&(o.count++,this.setJson(o))},PodsJson.prototype.decrement=function(t){var o=this.get(t);o&&(o.count--,o.count<=0?this.remove(t):this.setJson(o))},PodsJson.prototype.setJson=function(t,o){this.contents[t]=o,this.__dirty=!0,events.emit("verbose",util.format("Set pods.json for `%s`",t))},PodsJson.prototype.isDirty=function(){return this.__dirty},module.exports.PodsJson=PodsJson;