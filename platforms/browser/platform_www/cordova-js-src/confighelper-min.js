function Config(e){function t(e){var t=new DOMParser,n=t.parseFromString(e.responseText,"application/xml"),r=n.getElementsByTagName("preference");return Array.prototype.slice.call(r)}this.xhr=e,this.preferences=t(this.xhr)}function readConfig(e,t){function n(e){console.error(e),t&&t(e)}var r;"undefined"!=typeof config&&e(config);var o=function(){4==r.readyState&&(200==r.status||304==r.status||0===r.status?(config=new Config(r),e(config)):n("[Browser][cordova.js][xhrStatusChangeHandler] Could not XHR config.xml: "+r.statusText))};"ActiveXObject"in window?(r=new window.ActiveXObject("MSXML2.XMLHTTP"),r.onreadystatechange=o):(r=new XMLHttpRequest,r.addEventListener("load",o));try{r.open("get","/config.xml",!0),r.send()}catch(e){n("[Browser][cordova.js][readConfig] Could not XHR config.xml: "+JSON.stringify(e))}}var config;Config.prototype.getPreferenceValue=function e(t){var n=this.preferences&&this.preferences.filter(function(e){return e.attributes.name&&e.attributes.name.value===t});if(n&&n[0]&&n[0].attributes&&n[0].attributes.value)return n[0].attributes.value.value},exports.readConfig=readConfig;