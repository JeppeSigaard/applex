cordova.define("com.unarin.cordova.beacon.LocationManager",function(e,o,t){function n(){this.delegate=new c,this._registerDelegateCallbackId(),this.bindMethodContexts()}var i=e("cordova/exec"),r=e("com.unarin.cordova.beacon.underscorejs"),a=e("com.unarin.cordova.beacon.Q"),s=e("com.unarin.cordova.beacon.Regions"),c=e("com.unarin.cordova.beacon.Delegate"),p=e("com.unarin.cordova.beacon.Region"),g=e("com.unarin.cordova.beacon.CircularRegion"),u=e("com.unarin.cordova.beacon.BeaconRegion");n.prototype.bindMethodContexts=function(){this.disableDebugLogs=r.bind(this.disableDebugLogs,this),this.enableDebugLogs=r.bind(this.enableDebugLogs,this)},n.prototype.getDelegate=function(){return this.delegate},n.prototype.setDelegate=function(e){return e instanceof c?(this.delegate=e,this.onDomDelegateReady(),this.delegate):void console.error("newDelegate parameter has to be an instance of Delegate.")},n.prototype._registerDelegateCallbackId=function(){this.appendToDeviceLog("registerDelegateCallbackId()");var e=a.defer();return i(r.bind(this._onDelegateCallback,this,e),r.bind(this._onDelegateCallback,this,e),"LocationManager","registerDelegateCallbackId",[]),e.promise},n.prototype._onDelegateCallback=function(e,o){this.appendToDeviceLog("_onDelegateCallback() "+JSON.stringify(o)),o&&r.isString(o.eventType)?this._mapDelegateCallback(o):a.isPending(e.promise)?e.resolve():console.error('Delegate registration promise is already been resolved, all subsequent callbacks should provide an "eventType" field.')},n.prototype._mapDelegateCallback=function(e){var o=e.eventType;this.appendToDeviceLog("_mapDelegateCallback() found eventType "+o),r.isFunction(this.delegate[o])?this.delegate[o](e):console.error("Delegate unable to handle eventType: "+o)},n.prototype._preProcessorExecutor=function(e,o,t){r.each(t,function(e){o=e(o)}),e(o)},n.prototype._promisedExec=function(e,o,t){var n=this;o=r.isArray(o)?o:[],t=r.isArray(t)?t:[],t=r.filter(t,function(e){return r.isFunction(e)});var s=a.defer(),c=function(e){n._preProcessorExecutor(s.resolve,e,t)};return i(c,s.reject,"LocationManager",e,o),s.promise},n.prototype.onDomDelegateReady=function(){return this._promisedExec("onDomDelegateReady",[],[])},n.prototype.isBluetoothEnabled=function(){return this._promisedExec("isBluetoothEnabled",[],[])},n.prototype.enableBluetooth=function(){return this._promisedExec("enableBluetooth",[],[])},n.prototype.disableBluetooth=function(){return this._promisedExec("disableBluetooth",[],[])},n.prototype.startMonitoringForRegion=function(e){return s.checkRegionType(e),this._promisedExec("startMonitoringForRegion",[e],[])},n.prototype.stopMonitoringForRegion=function(e){return s.checkRegionType(e),this._promisedExec("stopMonitoringForRegion",[e],[])},n.prototype.requestStateForRegion=function(e){return s.checkRegionType(e),this._promisedExec("requestStateForRegion",[e],[])},n.prototype.startRangingBeaconsInRegion=function(e){if(!s.isBeaconRegion(e))throw new TypeError("The region parameter has to be an instance of BeaconRegion");return this._promisedExec("startRangingBeaconsInRegion",[e],[])},n.prototype.stopRangingBeaconsInRegion=function(e){if(!s.isBeaconRegion(e))throw new TypeError("The region parameter has to be an instance of BeaconRegion");return this._promisedExec("stopRangingBeaconsInRegion",[e],[])},n.prototype.getAuthorizationStatus=function(){return this._promisedExec("getAuthorizationStatus",[],[])},n.prototype.requestWhenInUseAuthorization=function(){return this._promisedExec("requestWhenInUseAuthorization",[],[])},n.prototype.requestAlwaysAuthorization=function(){return this._promisedExec("requestAlwaysAuthorization",[],[])},n.prototype.getMonitoredRegions=function(){var e=[s.fromJsonArray];return this._promisedExec("getMonitoredRegions",[],e)},n.prototype.getRangedRegions=function(){var e=[s.fromJsonArray];return this._promisedExec("getRangedRegions",[],e)},n.prototype.isRangingAvailable=function(){return this._promisedExec("isRangingAvailable",[],[])},n.prototype.isMonitoringAvailableForClass=function(e){return s.checkRegionType(e),this._promisedExec("isMonitoringAvailableForClass",[e],[])},n.prototype.startAdvertising=function(e,o){return s.checkRegionType(e),o?this._promisedExec("startAdvertising",[e,o],[]):this._promisedExec("startAdvertising",[e],[])},n.prototype.stopAdvertising=function(){return this._promisedExec("stopAdvertising",[],[])},n.prototype.isAdvertisingAvailable=function(){return this._promisedExec("isAdvertisingAvailable",[],[])},n.prototype.isAdvertising=function(){return this._promisedExec("isAdvertising",[],[])},n.prototype.disableDebugLogs=function(){return this._promisedExec("disableDebugLogs",[],[])},n.prototype.enableDebugNotifications=function(){return this._promisedExec("enableDebugNotifications",[],[])},n.prototype.disableDebugNotifications=function(){return this._promisedExec("disableDebugNotifications",[],[])},n.prototype.enableDebugLogs=function(){return this._promisedExec("enableDebugLogs",[],[])},n.prototype.appendToDeviceLog=function(e){return this._promisedExec("appendToDeviceLog",[e],[])};var l=new n;l.Regions=s,l.Region=p,l.CircularRegion=g,l.BeaconRegion=u,l.Delegate=c,t.exports.LocationManager=n,t.exports.locationManager=l});